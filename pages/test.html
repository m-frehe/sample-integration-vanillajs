<div>
    <p-switch id="switchElement">

    </p-switch>
    <p-text>
        Problem:
        When the tab bar is inside a div with display:none the underline is not at correct position (or hidden)<br>
        Switch the switch to see the problem.
    </p-text>
</div>

<div id="content" style="display: none">


<p-tabs-bar id="tabsBar" active-tab-index="5" data-active-index="5" style="padding-bottom: 20px; margin-bottom: -20px; position: relative; z-index: 999; padding-right: 20px; pointer-events: auto" class="hydrated">

        <a href="#" class="tabsBarItem" data-id="1" id="tab-item-1" aria-controls="tab-panel-1" label="Home" role="tab" tabindex="0" aria-selected="true">

            <div style="width: 96px; height: 15px; background: url('/static/logo_wide.svg'); position:relative; bottom: -4px;"></div>

        </a>

        <a href="#" class="tabsBarItem" data-id="2" id="tab-item-2" aria-controls="tab-panel-2" label="Service Hub" role="tab" tabindex="-1" aria-selected="false">

            Service Hub

        </a>

        <a href="#" class="tabsBarItem" data-id="3" id="tab-item-3" aria-controls="tab-panel-3" label="Cloud Journey" role="tab" tabindex="-1" aria-selected="false">

            Cloud Journey

        </a>

        <a href="#" class="tabsBarItem" data-id="4" id="tab-item-4" aria-controls="tab-panel-4" label="Requests" role="tab" tabindex="-1" aria-selected="false">

            Requests

        </a>

        <a href="#" class="tabsBarItem" data-id="5" id="tab-item-5" aria-controls="tab-panel-5" label="Dashboards" role="tab" tabindex="-1" aria-selected="false">

            Dashboards

        </a>

        <a href="#" class="tabsBarItem" data-id="6" id="tab-item-6" aria-controls="tab-panel-6" label="Docs" role="tab" tabindex="-1" aria-selected="false">

            Docs

        </a>

        <a href="#" class="tabsBarItem" data-id="7" id="tab-item-7" aria-controls="tab-panel-7" label="Testing" role="tab" tabindex="-1" aria-selected="false">

            Testing

        </a>

        <a href="#" class="tabsBarItem" data-id="8" id="tab-item-8" aria-controls="tab-panel-8" label="News Overview" role="tab" tabindex="-1" aria-selected="false">

            News Overview

        </a>

        <a href="#" class="tabsBarItem" data-id="9" id="tab-item-9" aria-controls="tab-panel-9" label="Test" role="tab" tabindex="-1" aria-selected="false">

            Test

        </a>

        <a href="#" class="tabsBarItem" data-id="10" id="tab-item-10" aria-controls="tab-panel-10" label="Portal Overview" role="tab" tabindex="-1" aria-selected="false">

            Portal Overview

        </a>

        <a href="#" class="tabsBarItem" data-id="11" id="tab-item-11" aria-controls="tab-panel-11" label="Apps" role="tab" tabindex="-1" aria-selected="false">

            Apps

        </a>

</p-tabs-bar>






</div>
<div id="loading" style="width: 100%; height: 100%">
    <p-tabs-bar id="tabsBar2" active-tab-index="8" data-active-index="8" style="padding-bottom: 20px; margin-bottom: -20px; position: relative; z-index: 999; padding-right: 20px; pointer-events: auto" class="hydrated">

        <a href="#" class="tabsBarItem" data-id="1" id="item-1" aria-controls="tab-panel-1" label="Home" role="tab" tabindex="0" aria-selected="true">

            <div style="width: 96px; height: 15px; background: url('/static/logo_wide.svg'); position:relative; bottom: -4px;"></div>

        </a>

        <a href="#" class="tabsBarItem" data-id="2" id="item-2" aria-controls="tab-panel-2" label="Service Hub" role="tab" tabindex="-1" aria-selected="false">

            Service Hub

        </a>

        <a href="#" class="tabsBarItem" data-id="3" id="item-3" aria-controls="tab-panel-3" label="Cloud Journey" role="tab" tabindex="-1" aria-selected="false">

            Cloud Journey

        </a>

        <a href="#" class="tabsBarItem" data-id="4" id="item-4" aria-controls="tab-panel-4" label="Requests" role="tab" tabindex="-1" aria-selected="false">

            Requests

        </a>

        <a href="#" class="tabsBarItem" data-id="5" id="item-5" aria-controls="tab-panel-5" label="Dashboards" role="tab" tabindex="-1" aria-selected="false">

            Dashboards

        </a>

        <a href="#" class="tabsBarItem" data-id="6" id="item-6" aria-controls="tab-panel-6" label="Docs" role="tab" tabindex="-1" aria-selected="false">

            Docs

        </a>

        <a href="#" class="tabsBarItem" data-id="7" id="item-7" aria-controls="tab-panel-7" label="Testing" role="tab" tabindex="-1" aria-selected="false">

            Testing

        </a>

        <a href="#" class="tabsBarItem" data-id="8" id="item-8" aria-controls="tab-panel-8" label="News Overview" role="tab" tabindex="-1" aria-selected="false">

            News Overview

        </a>

        <a href="#" class="tabsBarItem" data-id="9" id="item-9" aria-controls="tab-panel-9" label="Test" role="tab" tabindex="-1" aria-selected="false">

            Test

        </a>

        <a href="#" class="tabsBarItem" data-id="10" id="item-10" aria-controls="tab-panel-10" label="Portal Overview" role="tab" tabindex="-1" aria-selected="false">

            Portal Overview

        </a>

        <a href="#" class="tabsBarItem" data-id="11" id="item-11" aria-controls="tab-panel-11" label="Apps" role="tab" tabindex="-1" aria-selected="false">

            Apps

        </a>

</p-tabs-bar>
</div>

<script>
    switchElement.addEventListener('switchChange', (e) => {
      e.target.checked = e.detail.checked;
      if(document.getElementById('content').style.display === "block"){
          document.getElementById('content').style.display = 'none';
          document.getElementById('loading').style.display = 'block';
      } else {
          document.getElementById('content').style.display = 'block';
          document.getElementById('loading').style.display = 'none';
      }
    });
</script>